<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Package Demo - Website Theme Switcher</title>
    <style>
        /* CSS Variables for Theme Colors */
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --nav-bg: #ffffff;
            --card-bg: #f8f9fa;
            --border-color: #dee2e6;
        }

        [data-theme="dark"] {
            --bg-color: #000000;
            --text-color: #ffffff;
            --nav-bg: #1a1a1a;
            --card-bg: #2d2d2d;
            --border-color: #404040;
        }

        /* Basic Styles */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all 0.3s ease;
        }

        .navbar {
            background-color: var(--nav-bg);
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .nav-brand h1 {
            margin: 0;
            color: var(--text-color);
        }

        /* Theme Toggle Button with Sun/Moon Icons */
        .theme-toggle {
            background: transparent;
            border: 2px solid var(--text-color);
            border-radius: 25px;
            width: 60px;
            height: 30px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 5px;
        }

        .theme-toggle:hover {
            transform: scale(1.05);
        }

        .theme-toggle .icon {
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .theme-toggle .sun-icon {
            color: #f59e0b;
        }

        .theme-toggle .moon-icon {
            color: #3b82f6;
        }

        /* Light theme - show sun icon */
        .theme-toggle .sun-icon {
            opacity: 1;
            transform: scale(1);
        }

        .theme-toggle .moon-icon {
            opacity: 0.3;
            transform: scale(0.8);
        }

        /* Dark theme - show moon icon */
        [data-theme="dark"] .theme-toggle .sun-icon {
            opacity: 0.3;
            transform: scale(0.8);
        }

        [data-theme="dark"] .theme-toggle .moon-icon {
            opacity: 1;
            transform: scale(1);
        }

        .main-content {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hero {
            text-align: center;
            padding: 3rem;
            background-color: var(--card-bg);
            border-radius: 10px;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
        }

        .hero h2 {
            color: var(--text-color);
            margin-bottom: 1rem;
        }

        .hero p {
            color: var(--text-color);
            font-size: 18px;
        }

        .cta-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 1rem;
        }

        .cta-button:hover {
            background: #0056b3;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }

        .feature-card h4 {
            color: var(--text-color);
            margin-bottom: 1rem;
        }

        .feature-card p {
            color: var(--text-color);
            line-height: 1.6;
        }

        /* Theme status display */
        .theme-status {
            text-align: center;
            margin: 2rem 0;
            padding: 1rem;
            background-color: var(--card-bg);
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }

        .theme-status h3 {
            color: var(--text-color);
            margin-bottom: 1rem;
        }

        .theme-info {
            color: var(--text-color);
            font-family: monospace;
            background-color: var(--bg-color);
            padding: 0.5rem;
            border-radius: 5px;
            border: 1px solid var(--border-color);
        }

        /* Demo buttons */
        .demo-buttons {
            text-align: center;
            margin: 2rem 0;
        }

        .demo-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 5px;
            font-size: 14px;
        }

        .demo-btn:hover {
            background: #218838;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>üåì Website Theme Switcher Package</h1>
            </div>
            <!-- Theme Toggle Button using the package -->
            <button class="theme-toggle" data-toggle-theme="dark,light" title="Toggle Theme">
                <span class="icon sun-icon">‚òÄÔ∏è</span>
                <span class="icon moon-icon">üåô</span>
            </button>
        </div>
    </nav>

    <main class="main-content">
        <section class="hero">
            <h2>Package Demo - Working Theme Switcher</h2>
            <p>This demo uses the updated website-theme-switcher package. The toggle button now works correctly!</p>
            <button class="cta-button">Get Started</button>
        </section>

        <section class="demo-buttons">
            <h3>Test Different Theme Switchers</h3>
            <button class="demo-btn" data-set-theme="light">‚òÄÔ∏è Light</button>
            <button class="demo-btn" data-set-theme="dark">üåô Dark</button>
            <button class="demo-btn" onclick="testToggle()">üîÑ Test Toggle</button>
        </section>

        <section class="theme-status">
            <h3>Current Theme Status</h3>
            <div class="theme-info">
                <div>Current Theme: <span id="current-theme">light</span></div>
                <div>Dark Mode: <span id="dark-mode">false</span></div>
                <div>localStorage: <span id="localstorage-info">theme=light</span></div>
                <div>Package Version: <span id="package-version">1.2.2</span></div>
            </div>
        </section>

        <section class="features">
            <div class="feature-card">
                <h4>‚úÖ Working Toggle</h4>
                <p>The toggle button now actually switches themes when clicked!</p>
            </div>
            <div class="feature-card">
                <h4>‚úÖ Package Integration</h4>
                <p>Uses the updated website-theme-switcher package with working functionality.</p>
            </div>
            <div class="feature-card">
                <h4>‚úÖ Multiple Switchers</h4>
                <p>Supports buttons, toggles, and select dropdowns for theme switching.</p>
            </div>
        </section>
    </main>

    <!-- Load the package -->
    <script src="../dist/index.js"></script>
    <script>
        console.log('Package demo loaded, initializing...');
        
        // Initialize Theme Switcher
        const themeSwitcher = WebsiteThemeSwitcher.init({
            defaultTheme: 'light',
            storageKey: 'package-demo',
            debug: true
        });

        console.log('Theme switcher initialized:', themeSwitcher);

        // Update theme status display
        function updateThemeStatus() {
            const currentTheme = themeSwitcher.getCurrentTheme();
            const isDark = themeSwitcher.isDarkMode();
            const localStorageValue = localStorage.getItem('package-demo') || 'light';
            
            document.getElementById('current-theme').textContent = currentTheme;
            document.getElementById('dark-mode').textContent = isDark.toString();
            document.getElementById('localstorage-info').textContent = `theme=${localStorageValue}`;
            
            console.log('Theme status updated:', { currentTheme, isDark, localStorageValue });
        }

        // Update status on theme change
        themeSwitcher.options.onThemeChange = (theme) => {
            console.log('Theme changed to:', theme);
            updateThemeStatus();
        };

        // Initial status update
        updateThemeStatus();

        // Test toggle function
        function testToggle() {
            console.log('Testing toggle function...');
            themeSwitcher.toggleTheme(['light', 'dark']);
        }

        // Add click event to toggle button for debugging
        document.querySelector('.theme-toggle').addEventListener('click', function(e) {
            console.log('Toggle button clicked!');
            console.log('Event:', e);
            console.log('Current theme before toggle:', themeSwitcher.getCurrentTheme());
            console.log('Button element:', this);
            console.log('Button attributes:', this.getAttribute('data-toggle-theme'));
        });

        // Check for all theme switchers
        setTimeout(() => {
            console.log('=== Theme Switcher Detection ===');
            const toggleButtons = document.querySelectorAll('[data-toggle-theme]');
            const setButtons = document.querySelectorAll('[data-set-theme]');
            const chooseSelects = document.querySelectorAll('[data-choose-theme]');
            
            console.log('Toggle buttons found:', toggleButtons.length);
            console.log('Set theme buttons found:', setButtons.length);
            console.log('Choose theme selects found:', chooseSelects.length);
            
            console.log('Current theme:', themeSwitcher.getCurrentTheme());
            console.log('Available themes:', themeSwitcher.options.themes);
        }, 1000);
    </script>
</body>
</html>
